title: Hobogen, or how this blog was generated
author: edahlgren

<a href="http://github.com/edahlgren/hobo">Hobogen</a> is an html compiler written in haskell.  It is an extension of the minimalist blogging engine <a href="http://github.com/jamwt/hobo">hobo</a>.

Futex 0x3be6fec is generated by hobogen. I've used it also to generate my prose writings collection at <a href="http://prose.edahlgren.com">prose.edahlgren.com</a>.  Based on a set of mustache tags (hatasche in haskell) that you can include in html templates, and a posts that you write in simple markdown, hobogen produces static html for:

* A home page, with a full preview of the post (like here), or an n-line preview of the post (like on the prose site)
* A page for each of your posts
* An archive page, where your posts are grouped by month
* An about page where you can describe your site

Hobogen builds custom headers and footers into generated html using head.html and foot.html templates.  These are good places to import css and javascript styles specific to your site.  Hobogen inherits from hobo the ability to highlight code blocks specific to a particular language. Here is a sample of the hobogen code that compiles the archive page:

    #!haskell
    compileArchive ts cfg = do
        rpaths <- getDirectoryContents (base cfg </> "posts")
    	let paths = (reverse . sort) rpaths
    	let archives = catMaybes $ map parseArchive paths
    	let groupedArchives = L.groupBy (\(y1,m1,_,_) (y2,m2,_,_) -> y1 == y2 && m1 == m2) archives
    	(archiveTemplate ts) (sub groupedArchives)

In that code block, hobogen is reading all of the posts paths, sorting them in ascending dated order, parsing the parts of the posts for valid year, month, title and url data needed to construct the archive page (using Attoparsec), grouping the posts written in the same year and month, and building the html from the archive template.

If you'd like to either to use or contribute to <a href="http://github.com/edahlgren/hobo"><hobogen></a>, contact me through github: @edahlgren.
